"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{if(this.jQuery=this.jQuery||void 0,!jQuery)throw"제이쿼리가 없습니다.";!function($){function _typeOf(e){var o="";return o=void 0===e?"undefined":"number"==typeof e&&isNaN(e)?"NaN":Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]","")}function _freeObject(e){var o={};return"object"==_typeOf(e)&&(o=_JSON.parse(_JSON.stringify(e))),o}function _getConnectedState(){var e=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),r=["win16","win32","win64","mac","linux"],t={browser:"",platform:""};return e.indexOf("msie 7.0")>-1?t.browser="ie7":e.indexOf("msie 8.0")>-1?t.browser="ie8":e.indexOf("msie 9.0")>-1?t.browser="ie9":e.indexOf("msie 10.0")>-1?t.browser="ie10":e.indexOf("trident/7.0")>-1?t.browser="ie11":e.indexOf("edge")>-1?t.browser="edge":e.indexOf("opr")>-1?t.browser="opera":e.indexOf("chrome")>-1?t.browser="chrome":e.indexOf("firefox")>-1?t.browser="firefox":e.indexOf("safari")>-1?t.browser="safari":t.browser="unknown",$.inArray(o,r)>-1?t.platform="pc":t.platform="mobile",t}function _removeDuplicate(e){var o=[],r=_typeOf(e);"string"==r||"number"==r||"boolean"==r?e=$.makeArray(e):"array"!=r&&(e=[]);for(var t=0;t<e.length;t++)-1==$.inArray(e[t],o)&&o.push(e[t]);return o}var _$window=$(window),_timestamp=(new Date).getTime(),_connectedState=_getConnectedState(),_JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var e=Object.prototype.toString,o=Array.isArray||function(o){return"[object Array]"===e.call(o)},r={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},t=function(e){return r[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},i=/[\\"\u0000-\u001F\u2028\u2029]/g;return function n(r){if(null==r)return"null";if("number"==typeof r)return isFinite(r)?r.toString():"null";if("boolean"==typeof r)return r.toString();if("object"==typeof r){if("function"==typeof r.toJSON)return n(r.toJSON());if(o(r)){for(var s="[",a=0;a<r.length;a++)s+=(a?", ":"")+n(r[a]);return s+"]"}if("[object Object]"===e.call(r)){var l=[];for(var p in r)r.hasOwnProperty(p)&&l.push(n(p)+" : "+n(r[p]));return"{"+l.join(", ")+"}"}}return'"'+r.toString().replace(i,t)+'"'}}()};$(function(){function _hasScrollbar(e){var o=$(e).first(),r=o.add(o.parents()),t=[],i=[],n={horizontal:!1,vertical:!1};return r.each(function(e,o){var r=$(o),n={x:r.css("overflow-x"),y:r.css("overflow-y")};o.scrollWidth>o.clientWidth&&"hidden"!=n.x||"scroll"==n.x?t.push(!0):t.push(!1),o.scrollHeight>o.clientHeight&&"hidden"!=n.y||"scroll"==n.y?i.push(!0):i.push(!1)}),$.inArray(!0,t)>-1&&(n.horizontal=!0),$.inArray(!0,i)>-1&&(n.vertical=!0),n}function _getScrollbarWidth(){var e=$("body"),o=e.children("#responsive_scrollbar"),r=o.data(),t=o.length?o[0].offsetWidth-o[0].clientWidth:0;return r||(r={timestamp:void 0}),r.timestamp!=_timestamp&&(o.remove(),e.append('<div id="responsive_scrollbar" style="visibility:hidden; overflow-x:scroll; overflow-y:scroll; position:absolute; top:-100px; left:-100px; z-index:-1; width:100px; height:100px;"  data-timestamp="'+_timestamp+'">&nbsp;</div>'),_getScrollbarWidth()),t}function _getDefaultObject(){var e=_hasScrollbar(_$target[0]),o=_getScrollbarWidth(),r=e.vertical?_$window.width()+o:_$window.width(),t=e.horizontal?_$window.height()+o:_$window.height(),i={isRun:!1,exit:[],nowState:[],prevState:[],lowIERun:!1,scrollbarWidth:o,windowWidth:r,windowHeight:t,windowLoadedWidth:r,windowLoadedHeight:t,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:e.vertical,hasHorizontalScrollbar:e.horizontal,isLowIE:"ie7"==_connectedState.browser||"ie8"==_connectedState.browser,isResize:!1};return _freeObject(i)}function _setState(e){var o=!1,r=[];e=_removeDuplicate(e);for(var t=0;t<e.length;t++)-1==$.inArray(e[t],_responsive.nowState)&&r.push(e[t]);return r.length&&(o=!0),o&&(_$target.removeClass(_responsive.nowState.join(" ")),_$target.addClass(e.join(" ")),_responsive.prevState=_responsive.nowState,_responsive.nowState=e,console.log("현재상태 : "+e.join(", "))),_callEvent((e.join("All, ")+"All").split(", ")),o&&_callEvent(e),o}function _callEvent(e){var o={responsive:_freeObject(_responsive)};e=_removeDuplicate(e),$.responsive.setting=o.responsive;for(var r=0;r<e.length;r++)o.state=e[r],_$window.triggerHandler($.Event("responsive",o)),_$window.triggerHandler($.Event("responsive:"+e[r],o));return e}function _setScreenInfo(){var e=_hasScrollbar(_$target[0]);return _responsive.hasVerticalScrollbar=e.vertical,_responsive.hasHorizontalScrollbar=e.horizontal,_responsive.scrollbarWidth=_getScrollbarWidth(),_responsive.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),_responsive.windowWidth=_$window.width(),_responsive.windowHeight=_$window.height(),_responsive.hasVerticalScrollbar&&(_responsive.windowWidth+=_responsive.scrollbarWidth),_responsive.hasHorizontalScrollbar&&(_responsive.windowHeight+=_responsive.scrollbarWidth),_responsive}var _$target=$("body"),_responsive={};$.responsive=function(option){var windowTempWidth=0,windowTempHeight=0,i="",lowIEStateType=_typeOf(option.lowIE.state),rangeCode="",rangeProperty=[],enter=[];_responsive=_getDefaultObject(),_responsive.isRun=!0,_$target.addClass(_responsive.browser+" "+_responsive.platform),"object"!=_typeOf(option)&&(option={}),"object"!=_typeOf(option.lowIE)&&(option.lowIE={}),"boolean"==_typeOf(option.lowIE.run)&&(_responsive.lowIERun=option.lowIE.run),"array"==lowIEStateType||"string"==lowIEStateType?option.lowIE.state=_removeDuplicate(option.lowIE.state):option.lowIE.state=[],"number"!=_typeOf(option.interval)&&(option.interval=250),"object"!=_typeOf(option.range)&&(option.range={});for(i in option.range)i=i.toLowerCase(),"resized"!=i.substr(-7)&&"none"!=i.substr(-4)&&"all"!=i.substr(-3)&&"mobile"!=i&&"pc"!=i&&"scrollbar"!=i&&"ie7"!=i&&"ie8"!=i&&"ie9"!=i&&"ie10"!=i&&"ie11"!=i&&"edge"!=i&&"whale"!=i&&"samsung"!=i&&"opera"!=i&&"chrome"!=i&&"firefox"!=i&&"safari"!=i&&"unknown"!=i&&(rangeProperty.push(i),"object"!=_typeOf(option.range[i])&&(option.range[i]={}),"number"!=_typeOf(option.range[i].from)&&(option.range[i].from=9999),"number"!=_typeOf(option.range[i].to)&&(option.range[i].to=0),rangeCode+="	if(_responsive.windowWidth <= "+option.range[i].from+" && _responsive.windowWidth >= "+option.range[i].to+") {\n",rangeCode+='		enter.push("'+i+'");\n',rangeCode+="	}else{\n",rangeCode+='		_responsive.exit.push("'+i+'");\n',rangeCode+="	}\n\n");for(rangeCode+="}",i=0;i<option.lowIE.state.length;i++)-1==$.inArray(option.lowIE.state[i],rangeProperty)&&(option.lowIE.state[i]="none");return option.lowIE.state=option.lowIE.state.join(", ").replace(/, none/g,"").split(", "),rangeCode='enter = [];\n_responsive.exit = [];\n\nif(!_responsive.lowIERun && _responsive.isLowIE) {\n	enter = ["'+option.lowIE.state.join('", "')+'"];\n}else{\n'+rangeCode,_$window.off("resize.responsive").on("resize.responsive",function(event){_setScreenInfo(),_responsive.windowHeight!=windowTempHeight&&(windowTempHeight=_responsive.windowHeight),_responsive.windowWidth!=windowTempWidth&&(windowTempWidth=_responsive.windowWidth,_responsive.isResize=!0,_callEvent("all"),eval(rangeCode),_setState(enter.length?enter:"none"),option.timer&&(clearTimeout(option.timer),option.timer=0),option.timer=setTimeout(function(){_responsive.isResize=!1,_setScreenInfo(),_callEvent("allResized"),_callEvent(enter.length?(enter.join("AllResized, ")+"AllResized").split(", "):"noneAllResized")},option.interval))}).triggerHandler("resize.responsive"),_$target},$.responsive.destroy=function(){var e=!1;return _responsive.isRun&&(_$window.off("resize.responsive"),_$target.removeClass("scrollbar "+_responsive.browser+" "+_responsive.platform+" "+_responsive.nowState.join(" ")),$("body > #responsive_scrollbar").remove(),this.setting=void 0,e=!0),e},$.responsive.setting=_getDefaultObject()})}(jQuery)}catch(e){console.error(e)}