"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{if(this.jQuery=this.jQuery||void 0,!jQuery)throw"제이쿼리가 없습니다.";!function($){function _typeOf(o){var t="";return t=void 0===o?"undefined":"number"==typeof o&&isNaN(o)?"NaN":Object.prototype.toString.call(o).toLowerCase().replace("[object ","").replace("]","")}function _freeObject(o){var t={};return"object"==_typeOf(o)&&(t=_JSON.parse(_JSON.stringify(o))),t}function _getConnectedState(){var o=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase(),e=["win16","win32","win64","mac","linux"],n={browser:"",platform:""};return o.indexOf("msie 7.0")>-1?n.browser="ie7":o.indexOf("msie 8.0")>-1?n.browser="ie8":o.indexOf("msie 9.0")>-1?n.browser="ie9":o.indexOf("msie 10.0")>-1?n.browser="ie10":o.indexOf("trident/7.0")>-1?n.browser="ie11":o.indexOf("edge")>-1?n.browser="edge":o.indexOf("opr")>-1?n.browser="opera":o.indexOf("chrome")>-1?n.browser="chrome":o.indexOf("firefox")>-1?n.browser="firefox":o.indexOf("safari")>-1?n.browser="safari":n.browser="unknown",$.inArray(t,e)>-1?n.platform="pc":n.platform="mobile",n}function _removeDuplicate(o){var t=[],e=_typeOf(o);"string"==e||"number"==e||"boolean"==e?o=$.makeArray(o):"array"!=e&&(o=[]);for(var n=0;n<o.length;n++)-1==$.inArray(o[n],t)&&t.push(o[n]);return t}var _$window=$(window),_timestamp=(new Date).getTime(),_connectedState=_getConnectedState(),_JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var o=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===o.call(t)},e={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(o){return e[o]||"\\u"+(o.charCodeAt(0)+65536).toString(16).substr(1)},i=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(e){if(null==e)return"null";if("number"==typeof e)return isFinite(e)?e.toString():"null";if("boolean"==typeof e)return e.toString();if("object"==typeof e){if("function"==typeof e.toJSON)return r(e.toJSON());if(t(e)){for(var a="[",p=0;p<e.length;p++)a+=(p?", ":"")+r(e[p]);return a+"]"}if("[object Object]"===o.call(e)){var s=[];for(var l in e)e.hasOwnProperty(l)&&s.push(r(l)+" : "+r(e[l]));return"{"+s.join(", ")+"}"}}return'"'+e.toString().replace(i,n)+'"'}}()};$(function(){function _hasScrollbar(o){var t=$(o).first(),e=t.add(t.parents()),n=[],i=[],r={horizontal:!1,vertical:!1};return e.each(function(o,t){var e=$(t),r={x:e.css("overflow-x"),y:e.css("overflow-y")};t.scrollWidth>t.clientWidth&&"hidden"!=r.x||"scroll"==r.x?n.push(!0):n.push(!1),t.scrollHeight>t.clientHeight&&"hidden"!=r.y||"scroll"==r.y?i.push(!0):i.push(!1)}),$.inArray(!0,n)>-1&&(r.horizontal=!0),$.inArray(!0,i)>-1&&(r.vertical=!0),r}function _getScrollbarWidth(){var o=$("body"),t=o.children("#responsive_scrollbar"),e=t.data(),n=t.length?t[0].offsetWidth-t[0].clientWidth:0;return e||(e={timestamp:void 0}),e.timestamp!=_timestamp&&(t.length&&t.remove(),o.append('<div id="responsive_scrollbar" style="visibility:hidden; overflow-x:scroll; overflow-y:scroll; position:absolute; top:-100px; left:-100px; z-index:-1; width:100px; height:100px;"  data-timestamp="'+_timestamp+'">&nbsp;</div>'),_getScrollbarWidth()),n}function _getDefaultObject(){var o=_hasScrollbar(_$target[0]),t=_getScrollbarWidth(),e=o.vertical?_$window.width()+t:_$window.width(),n=o.horizontal?_$window.height()+t:_$window.height(),i={isRun:!1,exit:[],nowState:[],prevState:[],lowIERun:!1,scrollbarWidth:t,windowWidth:e,windowHeight:n,windowLoadedWidth:e,windowLoadedHeight:n,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:o.vertical,hasHorizontalScrollbar:o.horizontal,isLowIE:"ie7"==_connectedState.browser||"ie8"==_connectedState.browser,isResize:!1,isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1};return _freeObject(i)}function _setState(o){var t=!1,e=[];o=_removeDuplicate(o);for(var n=0;n<o.length;n++)-1==$.inArray(o[n],_option.nowState)&&e.push(o[n]);return e.length&&(t=!0),t&&(_$target.removeClass(_option.nowState.join(" ")),_$target.addClass(o.join(" ")),_option.prevState=_option.nowState,_option.nowState=o,console.log("현재상태 : "+o.join(", "))),_callEvent((o.join("All, ")+"All").split(", ")),t&&_callEvent(o),t}function _callEvent(o){o=_removeDuplicate(o),$.responsive.setting=_freeObject(_option);for(var t=0;t<o.length;t++)_$window.triggerHandler($.Event("responsive",{state:o[t]})),_$window.triggerHandler($.Event("responsive:"+o[t],{state:o[t]}));return o}function _setScreenInfo(){var o=_hasScrollbar(_$target[0]);return _option.hasVerticalScrollbar=o.vertical,_option.hasHorizontalScrollbar=o.horizontal,_option.scrollbarWidth=_getScrollbarWidth(),_option.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),_option.windowWidth=_$window.width(),_option.windowHeight=_$window.height(),_option.hasVerticalScrollbar&&(_option.windowWidth+=_option.scrollbarWidth),_option.hasHorizontalScrollbar&&(_option.windowHeight+=_option.scrollbarWidth),_option}var _$target=$("body"),_option={};$.responsive=function(option){_option.nowState&&_option.nowState.length&&_$target.removeClass(_option.nowState.join(" ")),_option=_getDefaultObject(),_option.isRun=!0,_$target.addClass(_option.browser+" "+_option.platform),"object"!=_typeOf(option)&&(option={}),"object"!=_typeOf(option.lowIE)&&(option.lowIE={}),option.lowIE.stateType=_typeOf(option.lowIE.state),"array"==option.lowIE.stateType||"string"==option.lowIE.stateType?option.lowIE.state=_removeDuplicate(option.lowIE.state):option.lowIE.state=[],"object"!=_typeOf(option.range)&&(option.range={}),option.interval=250,option.enter=[],option.rangeCode="",option.rangeProperty=[];for(option.i in option.range)option.i=option.i.toLowerCase(),"resized"!=option.i.substr(-7)&&"none"!=option.i.substr(-4)&&"all"!=option.i.substr(-3)&&"mobile"!=option.i&&"pc"!=option.i&&"scrollbar"!=option.i&&"ie7"!=option.i&&"ie8"!=option.i&&"ie9"!=option.i&&"ie10"!=option.i&&"ie11"!=option.i&&"edge"!=option.i&&"whale"!=option.i&&"samsung"!=option.i&&"opera"!=option.i&&"chrome"!=option.i&&"firefox"!=option.i&&"safari"!=option.i&&"unknown"!=option.i&&(option.rangeProperty.push(option.i),"object"!=_typeOf(option.range[option.i])&&(option.range[option.i]={}),"number"!=_typeOf(option.range[option.i].from)&&(option.range[option.i].from=9999),"number"!=_typeOf(option.range[option.i].to)&&(option.range[option.i].to=0),option.rangeCode+="	if(_option.windowWidth <= "+option.range[option.i].from+" && _option.windowWidth >= "+option.range[option.i].to+") {\n",option.rangeCode+='		option.enter.push("'+option.i+'");\n',option.rangeCode+="	}else{\n",option.rangeCode+='		_option.exit.push("'+option.i+'");\n',option.rangeCode+="	}\n\n");for(option.rangeCode+="}",option.i=0;option.i<option.lowIE.state.length;option.i++)-1==$.inArray(option.lowIE.state[option.i],option.rangeProperty)&&(option.lowIE.state[option.i]="none");return option.lowIE.state.length&&(option.lowIE.state=option.lowIE.state.join(", ").replace(/, none/g,"").split(", "),_option.lowIERun=!0),option.rangeCode="option.enter = [];\n_option.exit = [];\n\nif(_option.lowIERun && _option.isLowIE) {\n	option.enter = option.lowIE.state;\n}else{\n"+option.rangeCode,_$window.off("resize.responsive").on("resize.responsive",function(event){_option.isResize=!0,_option.isScreenWidthChange=!1,_option.isScreenHeightChange=!1,_option.isScreenWidthAndHeightChange=!1,_option.isScreenChange=!1,_setScreenInfo(),_option.windowWidth!=option.windowWidth&&(option.windowWidth=_option.windowWidth,_option.isScreenWidthChange=!0),_option.windowHeight!=option.windowHeight&&(option.windowHeight=_option.windowHeight,_option.isScreenHeightChange=!0),_option.isScreenWidthChange&&_option.isScreenHeightChange&&(_option.isScreenWidthAndHeightChange=!0),(_option.isScreenWidthChange||_option.isScreenHeightChange)&&(_option.isScreenChange=!0),_option.isScreenWidthChange&&(_callEvent("all"),eval(option.rangeCode),_setState(option.enter.length?option.enter:"none"),option.timer&&(clearTimeout(option.timer),option.timer=0),option.timer=setTimeout(function(){_setScreenInfo(),_callEvent("allResized"),_callEvent(option.enter.length?(option.enter.join("AllResized, ")+"AllResized").split(", "):"noneAllResized")},option.interval)),_option.isResize=!1,_option.isScreenWidthChange=!1,_option.isScreenHeightChange=!1,_option.isScreenWidthAndHeightChange=!1,_option.isScreenChange=!1}).triggerHandler("resize.responsive"),_$target},$.responsive.destroy=function(){var o=!1;return _option.isRun&&(_$window.off("resize.responsive"),_$target.removeClass("scrollbar "+_option.browser+" "+_option.platform+" "+_option.nowState.join(" ")),_option.isRun=!1,$("body > #responsive_scrollbar").remove(),this.setting=void 0,o=!0),o},$.responsive.setting=_getDefaultObject()})}(jQuery)}catch(e){console.error(e)}