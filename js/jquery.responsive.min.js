'use strict';

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 * @param {object} option {range : {# : {from : n, to : n}}, lowIE : {property : ['#']}, inheritClass : boolean}
 * @return {object}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function($){function _getTypeof(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if("document"===t.substr(-8))t="document";else if("element"===t.substr(-7))t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var n=0;for(var i in e){var o=_getTypeof(e[i]);"window"!==o&&"document"!==o&&"element"!==o||isNaN(Number(i))||n++}t=e.length&&e.length===n?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t="Infinity";return t}function _copyObject(e){var t=e;return"object"===_getTypeof(t)&&(t=$.extend(!0,{},t)),t}function _getConnectedState(){var e=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase(),n=["win16","win32","win64","mac","linux"],i={};return e.indexOf("msie 7.0")>-1?i.browser="ie7":e.indexOf("msie 8.0")>-1?i.browser="ie8":e.indexOf("msie 9.0")>-1?i.browser="ie9":e.indexOf("msie 10.0")>-1?i.browser="ie10":e.indexOf("trident/7.0")>-1?i.browser="ie11":e.indexOf("edge")>-1?i.browser="edge":e.indexOf("opr")>-1?i.browser="opera":e.indexOf("chrome")>-1?i.browser="chrome":e.indexOf("firefox")>-1?i.browser="firefox":e.indexOf("safari")>-1?i.browser="safari":i.browser="unknown",$.inArray(t,n)>-1?i.platform="pc":i.platform="mobile",i}function _removeDuplicate(e){var t=[];"array"!==_getTypeof(e)&&(e=$.makeArray(e));for(var n=0,i=e.length;n<i;n++)-1===$.inArray(e[n],t)&&t.push(e[n]);return t}var _$window=$(window),_connectedState=_getConnectedState(),_setting={},_consoleType=_getTypeof(window.console);if("object"!==_consoleType&&"console"!==_consoleType){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var i=0,consoleMethodLength=console.method.length;i<consoleMethodLength;i++)"function"!==_getTypeof(window.console[window.console.method[i]])&&(window.console[window.console.method[i]]=function(){var e,t=arguments.length;if(t>1){e=[];for(var n=0;n<t;n++)e.push(arguments[n])}else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}$(function(){function _hasScrollbar(e){var t=$(e).first(),n=[],i=[],o={horizontal:!1,vertical:!1};return t.add(t.parents()).each(function(e,t){var o=$(t),r={x:o.css("overflow-x"),y:o.css("overflow-y")};t.scrollWidth>t.clientWidth&&"hidden"!==r.x||"scroll"===r.x?n.push(!0):n.push(!1),t.scrollHeight>t.clientHeight&&"hidden"!==r.y||"scroll"===r.y?i.push(!0):i.push(!1)}),$.inArray(!0,n)>-1&&(o.horizontal=!0),$.inArray(!0,i)>-1&&(o.vertical=!0),o}function getScrollbarWidth(){var e={visibility:"hidden",overflowX:"scroll",overflowY:"scroll",position:"absolute",top:-100,left:-100,zIndex:-1,width:100,height:100},t=$("body"),n=t.children("#responsive_scrollbar"),i=n.length?n.removeAttr("style").css(e)[0].offsetWidth-n[0].clientWidth:0;return n.length||(t.append('<div id="responsive_scrollbar">&nbsp;</div>'),i=getScrollbarWidth()),i}function getDefaultObject(){var e=_hasScrollbar(_$target[0]),t=getScrollbarWidth(),n=e.vertical?_$window.width()+t:_$window.width(),i=e.horizontal?_$window.height()+t:_$window.height();return _copyObject({isRun:!1,range:{},rangeProperty:[],exit:[],lowIE:{is:"ie7"===_connectedState.browser||"ie8"===_connectedState.browser,property:[],run:!0},nowState:[],prevState:[],scrollbarWidth:t,orientation:n===i?"square":n>i?"landscape":"portrait",screenWidth:n,screenHeight:i,loadedScreenWidth:n,loadedScreenHeight:i,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:e.vertical,hasHorizontalScrollbar:e.horizontal,isResize:!1,triggerType:"",isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1,inheritClass:{property:[],is:!1}})}function _setState(e){for(var t=!1,n=[],i=[],o=[],r=0,s=(e=_removeDuplicate(e)).length;r<s;r++)-1===$.inArray(e[r],_setting.nowState)?n.push(e[r]):i.push(e[r]);if((n.length||i.length!==_setting.nowState.length)&&(t=!0),t){if(_$target.removeClass(_setting.nowState.join(" ")),_setting.inheritClass.is){_setting.inheritClass.property.length&&_$target.removeClass(_setting.inheritClass.property.join(" "));for(var r=0,a=$.inArray(e[e.length-1],_setting.rangeProperty);r<a;r++)-1===$.inArray(_setting.rangeProperty[r],e)&&o.push(_setting.rangeProperty[r]);o.length&&_$target.addClass(o.join(" ")),_setting.inheritClass.property=o}_$target.addClass(e.join(" ")),_setting.prevState=_setting.nowState,_setting.nowState=e,console.log("현재상태 : "+e.join(", "))}return _callEvent((e.join("All, ")+"All").split(", ")),t&&_callEvent(e),t}function _callEvent(e){var t=$.Event("responsive",{setting:_copyObject(_setting)});e=_removeDuplicate(e),$.responsive.setting=t.setting;for(var n=0,i=e.length;n<i;n++)t.state=e[n],_$window.triggerHandler(t),t.type="responsive:"+e[n],_$window.triggerHandler(t);return t}function _setScreenInfo(e){var t=_hasScrollbar(_$target[0]);return 2===e.isTrigger?_setting.triggerType="triggerHandler":3===e.isTrigger?_setting.triggerType="trigger":_setting.triggerType="",_setting.hasVerticalScrollbar=t.vertical,_setting.hasHorizontalScrollbar=t.horizontal,_setting.isResize=!1,_setting.isScreenWidthChange=!1,_setting.isScreenHeightChange=!1,_setting.isScreenWidthAndHeightChange=!1,_setting.isScreenChange=!1,_setting.scrollbarWidth=getScrollbarWidth(),_setting.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),_setting.screenWidth=_$window.width(),_setting.screenHeight=_$window.height(),_setting.hasVerticalScrollbar&&(_setting.screenWidth+=_setting.scrollbarWidth),_setting.hasHorizontalScrollbar&&(_setting.screenHeight+=_setting.scrollbarWidth),_$target.removeClass(_setting.orientation),_setting.screenWidth===_setting.screenHeight?_setting.orientation="square":_setting.screenWidth>_setting.screenHeight?_setting.orientation="landscape":_setting.orientation="portrait",_$target.addClass(_setting.orientation),_setting}var _$target=$("body"),_initialSetting=getDefaultObject();$.responsive=function(option){_setting.nowState&&_setting.nowState.length&&_$target.removeClass(_setting.nowState.join(" ")),_setting.inheritClass&&_setting.inheritClass.property&&_setting.inheritClass.property.length&&_$target.removeClass(_setting.inheritClass.property.join(" ")),_setting=getDefaultObject(),_setting.isRun=!0,_$target.addClass(_setting.browser+" "+_setting.platform),"object"!==_getTypeof(option)&&(option={}),"object"!==_getTypeof(option.lowIE)&&(option.lowIE={}),option.lowIEPropertyType=_getTypeof(option.lowIE.property),"array"===option.lowIEPropertyType||"string"===option.lowIEPropertyType?option.lowIE.property=_removeDuplicate(option.lowIE.property):option.lowIE.property=[],"boolean"!==_getTypeof(option.inheritClass)&&(option.inheritClass=!1),_setting.inheritClass.is=option.inheritClass,option.interval=250,"object"!==_getTypeof(option.range)&&(option.range={}),option.rangeCode="option.enter = [];\n_setting.exit = [];\n\n",option.rangeCode+="if(!_setting.lowIE.run && _setting.lowIE.is) {\n\toption.enter = _setting.lowIE.property;\n}else{\n",option.rangeFilter=[],option.rangeProperty=[];for(var i in option.range)"square"!==i&&"portrait"!==i&&"landscape"!==i&&"All"!==i.substr(-3)&&"Resized"!==i.substr(-7)&&"none"!==i&&"all"!==i.substr(-3)&&"mobile"!==i&&"pc"!==i&&"scrollbar"!==i&&"ie7"!==i&&"ie8"!==i&&"ie9"!==i&&"ie10"!==i&&"ie11"!==i&&"edge"!==i&&"opera"!==i&&"chrome"!==i&&"firefox"!==i&&"safari"!==i&&"unknown"!==i?(option.hasRangeHorizontal="object"===_getTypeof(option.range[i].horizontal),option.hasRangeVertical="object"===_getTypeof(option.range[i].vertical),(option.hasRangeHorizontal||option.hasRangeVertical)&&(option.hasRangeHorizontal&&"number"===_getTypeof(option.range[i].horizontal.from)&&"number"===_getTypeof(option.range[i].horizontal.to)?option.rangeFilter.push(!0):option.rangeFilter.push(!1),option.hasRangeVertical&&"number"===_getTypeof(option.range[i].vertical.from)&&"number"===_getTypeof(option.range[i].vertical.to)?option.rangeFilter.push(!0):option.rangeFilter.push(!1),option.rangeFilter[0]||option.rangeFilter[1]?(option.rangeCode+="\tif(",option.rangeFilter[0]&&(option.rangeCode+="_setting.screenWidth <= "+option.range[i].horizontal.from+" && _setting.screenWidth >= "+option.range[i].horizontal.to),option.rangeFilter[1]&&(option.hasRangeHorizontal&&(option.rangeCode+=" && "),option.rangeCode+="_setting.screenHeight <= "+option.range[i].vertical.from+" && _setting.screenHeight >= "+option.range[i].vertical.to),option.rangeCode+=") {\n",option.rangeCode+='\t\toption.enter.push("'+i+'");\n',option.rangeCode+="\t}else{\n",option.rangeCode+='\t\t_setting.exit.push("'+i+'");\n',option.rangeCode+="\t}\n\n",option.rangeProperty.push(i)):delete option.range[i],option.rangeFilter=[])):delete option.range[i];option.rangeCode=option.rangeCode.replace(/\n$/,""),option.rangeCode+="}",_setting.range=option.range,_setting.rangeProperty=option.rangeProperty,option.lowIEFilter=[];for(var i=0,lowIEPropertyLength=option.lowIE.property.length;i<lowIEPropertyLength;i++)$.inArray(option.lowIE.property[i],option.rangeProperty)>-1&&option.lowIEFilter.push(option.lowIE.property[i]);return option.lowIEFilter.length?option.lowIE.run=!1:option.lowIE.run=!0,_setting.lowIE.run=option.lowIE.run,option.lowIE.property=option.lowIEFilter,_setting.lowIE.property=option.lowIE.property,_$window.off("resize.responsive").on("resize.responsive",function(event){_setScreenInfo(event),_setting.isResize=!0,_setting.screenWidth!==option.screenWidth&&(option.screenWidth=_setting.screenWidth,_setting.isScreenWidthChange=!0),_setting.screenHeight!==option.screenHeight&&(option.screenHeight=_setting.screenHeight,_setting.isScreenHeightChange=!0),_setting.isScreenWidthChange&&_setting.isScreenHeightChange&&(_setting.isScreenWidthAndHeightChange=!0),(_setting.isScreenWidthChange||_setting.isScreenHeightChange)&&(_setting.isScreenChange=!0),_setting.triggerType&&(_setting.isResize=!1,_setting.isScreenWidthChange=!1,_setting.isScreenHeightChange=!1,_setting.isScreenWidthAndHeightChange=!1,_setting.isScreenChange=!1),(_setting.isScreenChange||_setting.triggerType)&&(_callEvent("all"),eval(option.rangeCode),_setState(option.enter.length?option.enter:"none"),option.timer&&(clearTimeout(option.timer),option.timer=0),option.timer=setTimeout(function(){_setScreenInfo(event),_callEvent("allResized"),_callEvent(option.enter.length?(option.enter.join("AllResized, ")+"AllResized").split(", "):"noneAllResized"),_setting.triggerType&&(_setting.triggerType="",$.responsive.setting=_copyObject(_setting))},option.interval))}).triggerHandler("resize.responsive"),_$target},$.responsive.destroy=function(){var e=!1;return _setting.isRun&&(_$window.off("resize.responsive"),_$target.removeClass("scrollbar "+_setting.browser+" "+_setting.platform+" "+_setting.nowState.join(" ")+" "+_setting.orientation+" "+_setting.inheritClass.property.join(" ")),$("body > #responsive_scrollbar").remove(),this.setting=_copyObject(_initialSetting),e=!0,_setting.isRun=!1),e},$.responsive.setting=_copyObject(_initialSetting)})}(jQuery)}catch(e){console.error(e)}