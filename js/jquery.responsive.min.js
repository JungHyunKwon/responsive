"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{if(!window.console){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var i=0;i<console.method.length;i++){if(!window.console[window.console.method[i]]){window.console[window.console.method[i]]=function(comment){this.comment.push(comment)}}}}window.JSON=window.JSON||{parse:function(sJSON){var result;try{result=eval("("+sJSON+")")}catch(e){result={}}return result},stringify:(function(){var toString=Object.prototype.toString,isArray=Array.isArray||function(a){return toString.call(a)==="[object Array]"},escMap={"\"":"\\\"","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escFunc=function(m){return escMap[m]||"\\u"+(m.charCodeAt(0)+0x10000).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g;return function stringify(value){if(value==null){return"null"}else if(typeof value==="number"){return isFinite(value)?value.toString():"null"}else if(typeof value==="boolean"){return value.toString()}else if(typeof value==="object"){if(typeof value.toJSON==="function"){return stringify(value.toJSON())}else if(isArray(value)){var res="[";for(var i=0;i<value.length;i++){res+=(i?", ":"")+stringify(value[i])}return res+']'}else if(toString.call(value)==="[object Object]"){var tmp=[];for(var k in value){if(value.hasOwnProperty(k)){tmp.push(stringify(k)+" : "+stringify(value[k]))}}return"{"+tmp.join(", ")+"}"}}return"\""+value.toString().replace(escRE,escFunc)+"\""}})()};if(window.jQuery){(function($){var $window=$(window),connectedState=getConnectedState(),setting={};function getTypeof(value){var result="none";if(arguments.length){result=Object.prototype.toString.call(value).toLowerCase().replace("[object ","").replace("]","");if(value===undefined){result="undefined"}else if(result==="number"&&isNaN(value)){result="NaN"}else if(result==="number"&&!isFinite(value)){result="Infinity"}else if(result.substr(-8)==="document"){result="document"}else if(result.substr(-7)==="element"){result="element"}else if(typeof window.jQuery==="function"&&value instanceof window.jQuery){var count=0;for(var i in value){var iType=getTypeof(value[i]);if((iType==="window"||iType==="document"||iType==="element")&&!isNaN(Number(i))){count++}}if(value.length&&value.length===count){result="jQueryElement"}else{result="jQueryObject"}}else if(result==="date"&&isNaN(new Date(value))){result="Invalid Date"}else if(result==="function"&&/^class\s/.test(Function.prototype.toString.call(value))){result="class"}}return result}function freeObject(object){var result={};if(getTypeof(object)=="object"){result=JSON.parse(JSON.stringify(object))}return result}function getConnectedState(){var userAgent=navigator.userAgent.toLowerCase(),platform=navigator.platform.toLowerCase(),platformCase=["win16","win32","win64","mac","linux"],result={};if(userAgent.indexOf("msie 7.0")>-1){result.browser="ie7"}else if(userAgent.indexOf("msie 8.0")>-1){result.browser="ie8"}else if(userAgent.indexOf("msie 9.0")>-1){result.browser="ie9"}else if(userAgent.indexOf("msie 10.0")>-1){result.browser="ie10"}else if(userAgent.indexOf("trident/7.0")>-1){result.browser="ie11"}else if(userAgent.indexOf("edge")>-1){result.browser="edge"}else if(userAgent.indexOf("opr")>-1){result.browser="opera"}else if(userAgent.indexOf("chrome")>-1){result.browser="chrome"}else if(userAgent.indexOf("firefox")>-1){result.browser="firefox"}else if(userAgent.indexOf("safari")>-1){result.browser="safari"}else{result.browser="unknown"}if($.inArray(platform,platformCase)>-1){result.platform="pc"}else{result.platform="mobile"}return result}function removeDuplicate(name){var result=[];if(getTypeof(name)!="array"){name=$.makeArray(name)}for(var i=0;i<name.length;i++){if($.inArray(name[i],result)==-1){result.push(name[i])}}return result}$(function(){var $target=$("body"),initialSetting=getDefaultObject();function hasScrollbar(object){var $this=$(object).first(),$target=$this.add($this.parents()),horizontal=[],vertical=[],result={horizontal:!1,vertical:!1};$target.each(function(index,element){var $this=$(element),overflow={x:$this.css("overflow-x"),y:$this.css("overflow-y")};if((element.scrollWidth>element.clientWidth&&overflow.x!="hidden")||overflow.x=="scroll"){horizontal.push(!0)}else{horizontal.push(!1)}if((element.scrollHeight>element.clientHeight&&overflow.y!="hidden")||overflow.y=="scroll"){vertical.push(!0)}else{vertical.push(!1)}});if($.inArray(!0,horizontal)>-1){result.horizontal=!0}if($.inArray(!0,vertical)>-1){result.vertical=!0}return result}function getScrollbarWidth(){var style={visibility:"hidden",overflowX:"scroll",overflowY:"scroll",position:"absolute",top:"-100px",left:"-100px",zIndex:"-1",width:"100px",height:"100px"},$body=$("body"),$scrollbar=$body.children("#responsive_scrollbar"),result=($scrollbar.length)?$scrollbar.removeAttr("style").css(style)[0].offsetWidth-$scrollbar[0].clientWidth:0;if(!$scrollbar.length){$body.append("<div id=\"responsive_scrollbar\">&nbsp;</div>");result=getScrollbarWidth()}return result}function getDefaultObject(){var scrollbar=hasScrollbar($target[0]),scrollbarWidth=getScrollbarWidth(),screenWidth=(scrollbar.vertical)?$window.width()+scrollbarWidth:$window.width(),screenHeight=(scrollbar.horizontal)?$window.height()+scrollbarWidth:$window.height();return freeObject({isRun:!1,range:{},rangeProperty:[],exit:[],lowIE:{is:connectedState.browser=="ie7"||connectedState.browser=="ie8",property:[],run:!0},nowState:[],prevState:[],scrollbarWidth:scrollbarWidth,orientation:(screenWidth==screenHeight)?"square":(screenWidth>screenHeight)?"landscape":"portrait",screenWidth:screenWidth,screenHeight:screenHeight,loadedScreenWidth:screenWidth,loadedScreenHeight:screenHeight,browser:connectedState.browser,platform:connectedState.platform,hasVerticalScrollbar:scrollbar.vertical,hasHorizontalScrollbar:scrollbar.horizontal,isResize:!1,triggerType:"",isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1,inheritClass:{property:[],is:!1}})}function setState(state){var result=!1,setState=[],nowState=[],inheritClass=[],i;state=removeDuplicate(state);for(i=0;i<state.length;i++){if($.inArray(state[i],setting.nowState)==-1){setState.push(state[i])}else{nowState.push(state[i])}}if(setState.length||nowState.length!=setting.nowState.length){result=!0}if(result){$target.removeClass(setting.nowState.join(" "));$target.addClass(state.join(" "));setting.prevState=setting.nowState;setting.nowState=state;if(setting.inheritClass.is){setting.inheritClass.property=[];for(i=0;i<$.inArray(setting.nowState[setting.nowState.length-1],setting.rangeProperty);i++){if($.inArray(setting.rangeProperty[i],setting.nowState)==-1){if(!$target.hasClass(setting.rangeProperty[i])){inheritClass.push(setting.rangeProperty[i])}setting.inheritClass.property.push(setting.rangeProperty[i])}}}$target.addClass(inheritClass.join(" "));console.log("현재상태 : "+state.join(", "))}callEvent((state.join("All, ")+"All").split(", "));if(result){callEvent(state)}return result}function callEvent(state){var event=$.Event("responsive",{setting:freeObject(setting)});state=removeDuplicate(state);$.responsive.setting=event.setting;for(var i=0;i<state.length;i++){event.state=state[i];$window.triggerHandler(event);event.type="responsive:"+state[i];$window.triggerHandler(event)}return state}function setScreenInfo(event){var scrollbar=hasScrollbar($target[0]);if(event.isTrigger==2){setting.triggerType="triggerHandler"}else if(event.isTrigger==3){setting.triggerType="trigger"}else{setting.triggerType=""}setting.hasVerticalScrollbar=scrollbar.vertical;setting.hasHorizontalScrollbar=scrollbar.horizontal;setting.isResize=!1;setting.isScreenWidthChange=!1;setting.isScreenHeightChange=!1;setting.isScreenWidthAndHeightChange=!1;setting.isScreenChange=!1;setting.scrollbarWidth=getScrollbarWidth();if(setting.scrollbarWidth){$target.addClass("scrollbar")}else{$target.removeClass("scrollbar")}setting.screenWidth=$window.width();setting.screenHeight=$window.height();if(setting.hasVerticalScrollbar){setting.screenWidth+=setting.scrollbarWidth}if(setting.hasHorizontalScrollbar){setting.screenHeight+=setting.scrollbarWidth}$target.removeClass(setting.orientation);if(setting.screenWidth==setting.screenHeight){setting.orientation="square"}else if(setting.screenWidth>setting.screenHeight){setting.orientation="landscape"}else{setting.orientation="portrait"}$target.addClass(setting.orientation);return setting}$.responsive=function(option){if(setting.nowState&&setting.nowState.length){$target.removeClass(setting.nowState.join(" "))}if(setting.inheritClass&&setting.inheritClass.property&&setting.inheritClass.property.length){$target.removeClass(setting.inheritClass.property.join(" "))}setting=getDefaultObject();setting.isRun=!0;$target.addClass(setting.browser+" "+setting.platform);if(getTypeof(option)!="object"){option={}}if(getTypeof(option.lowIE)!="object"){option.lowIE={}}option.lowIEPropertyType=getTypeof(option.lowIE.property);if(option.lowIEPropertyType=="array"||option.lowIEPropertyType=="string"){option.lowIE.property=removeDuplicate(option.lowIE.property)}else{option.lowIE.property=[]}if(getTypeof(option.inheritClass)!="boolean"){option.inheritClass=!1}setting.inheritClass.is=option.inheritClass;option.interval=250;if(getTypeof(option.range)!="object"){option.range={}}option.rangeCode="option.enter = [];\nsetting.exit = [];\n\n";option.rangeCode+="if(!setting.lowIE.run && setting.lowIE.is) {\n\toption.enter = setting.lowIE.property;\n}else{\n";option.rangeFilter=[];option.rangeProperty=[];for(option.i in option.range){if(option.i!="square"&&option.i!="portrait"&&option.i!="landscape"&&option.i.substr(-3)!="All"&&option.i.substr(-7)!="Resized"&&option.i!="none"&&option.i.substr(-3)!="all"&&option.i!="mobile"&&option.i!="pc"&&option.i!="scrollbar"&&option.i!="ie7"&&option.i!="ie8"&&option.i!="ie9"&&option.i!="ie10"&&option.i!="ie11"&&option.i!="edge"&&option.i!="opera"&&option.i!="chrome"&&option.i!="firefox"&&option.i!="safari"&&option.i!="unknown"){option.hasRangeHorizontal=(getTypeof(option.range[option.i].horizontal)=="object");option.hasRangeVertical=(getTypeof(option.range[option.i].vertical)=="object");if(option.hasRangeHorizontal||option.hasRangeVertical){if(option.hasRangeHorizontal&&getTypeof(option.range[option.i].horizontal.from)=="number"&&getTypeof(option.range[option.i].horizontal.to)=="number"){option.rangeFilter.push(!0)}else{option.rangeFilter.push(!1)}if(option.hasRangeVertical&&getTypeof(option.range[option.i].vertical.from)=="number"&&getTypeof(option.range[option.i].vertical.to)=="number"){option.rangeFilter.push(!0)}else{option.rangeFilter.push(!1)}if(option.rangeFilter[0]||option.rangeFilter[1]){option.rangeCode+="\tif(";if(option.rangeFilter[0]){option.rangeCode+="setting.screenWidth <= "+option.range[option.i].horizontal.from+" && setting.screenWidth >= "+option.range[option.i].horizontal.to}if(option.rangeFilter[1]){if(option.hasRangeHorizontal){option.rangeCode+=" && "}option.rangeCode+="setting.screenHeight <= "+option.range[option.i].vertical.from+" && setting.screenHeight >= "+option.range[option.i].vertical.to}option.rangeCode+=") {\n";option.rangeCode+="\t\toption.enter.push(\""+option.i+"\");\n";option.rangeCode+="\t}else{\n";option.rangeCode+="\t\tsetting.exit.push(\""+option.i+"\");\n";option.rangeCode+="\t}\n\n";option.rangeProperty.push(option.i)}else{delete option.range[option.i]}option.rangeFilter=[]}}else{delete option.range[option.i]}}option.rangeCode=option.rangeCode.replace(/\n$/,"");option.rangeCode+="}";setting.range=option.range;setting.rangeProperty=option.rangeProperty;option.i=0;option.lowIEFilter=[];for(;option.i<option.lowIE.property.length;option.i++){if($.inArray(option.lowIE.property[option.i],option.rangeProperty)>-1){option.lowIEFilter.push(option.lowIE.property[option.i])}}if(option.lowIEFilter.length){option.lowIE.run=!1}else{option.lowIE.run=!0}setting.lowIE.run=option.lowIE.run;option.lowIE.property=option.lowIEFilter;setting.lowIE.property=option.lowIE.property;$window.off("resize.responsive").on("resize.responsive",function(event){setScreenInfo(event);setting.isResize=!0;if(setting.screenWidth!=option.screenWidth){option.screenWidth=setting.screenWidth;setting.isScreenWidthChange=!0}if(setting.screenHeight!=option.screenHeight){option.screenHeight=setting.screenHeight;setting.isScreenHeightChange=!0}if(setting.isScreenWidthChange&&setting.isScreenHeightChange){setting.isScreenWidthAndHeightChange=!0}if(setting.isScreenWidthChange||setting.isScreenHeightChange){setting.isScreenChange=!0}if(setting.triggerType){setting.isResize=!1;setting.isScreenWidthChange=!1;setting.isScreenHeightChange=!1;setting.isScreenWidthAndHeightChange=!1;setting.isScreenChange=!1}if(setting.isScreenChange||setting.triggerType){callEvent("all");eval(option.rangeCode);if(option.enter.length){setState(option.enter)}else{setState("none")}if(option.timer){clearTimeout(option.timer);option.timer=0}option.timer=setTimeout(function(){setScreenInfo(event);callEvent("allResized");if(option.enter.length){callEvent((option.enter.join("AllResized, ")+"AllResized").split(", "))}else{callEvent("noneAllResized")}if(setting.triggerType){setting.triggerType="";$.responsive.setting=freeObject(setting)}},option.interval)}}).triggerHandler("resize.responsive");return $target};$.responsive.destroy=function(){var result=!1;if(setting.isRun){$window.off("resize.responsive");$target.removeClass("scrollbar "+setting.browser+" "+setting.platform+" "+setting.nowState.join(" ")+" "+setting.orientation+" "+setting.inheritClass.property.join(" "));$("body > #responsive_scrollbar").remove();this.setting=freeObject(initialSetting);result=!0;setting.isRun=!1}return result};$.responsive.setting=freeObject(initialSetting)})})(jQuery)}else{throw "제이쿼리가 없습니다."}}catch(e){console.error(e)}