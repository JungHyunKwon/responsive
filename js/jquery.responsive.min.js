"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{if(this.jQuery=this.jQuery||void 0,!jQuery)throw"제이쿼리가 없습니다.";!function($){function _typeOf(e){var t="";return t=void 0===e?"undefined":"number"==typeof e&&isNaN(e)?"NaN":Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]","")}function _freeObject(e){var t={};return"object"==_typeOf(e)&&(t=_JSON.parse(_JSON.stringify(e))),t}function _getConnectedState(){var e=navigator.userAgent.toLowerCase(),t=navigator.platform.toLowerCase(),n=["win16","win32","win64","mac","linux"],o={browser:"",platform:""};return e.indexOf("msie 7.0")>-1?o.browser="ie7":e.indexOf("msie 8.0")>-1?o.browser="ie8":e.indexOf("msie 9.0")>-1?o.browser="ie9":e.indexOf("msie 10.0")>-1?o.browser="ie10":e.indexOf("trident/7.0")>-1?o.browser="ie11":e.indexOf("edge")>-1?o.browser="edge":e.indexOf("opr")>-1?o.browser="opera":e.indexOf("chrome")>-1?o.browser="chrome":e.indexOf("firefox")>-1?o.browser="firefox":e.indexOf("safari")>-1?o.browser="safari":o.browser="unknown",$.inArray(t,n)>-1?o.platform="pc":o.platform="mobile",o}function _removeDuplicate(e){var t=[],n=_typeOf(e);"string"==n||"number"==n||"boolean"==n?e=$.makeArray(e):"array"!=n&&(e=[]);for(var o=0;o<e.length;o++)-1==$.inArray(e[o],t)&&t.push(e[o]);return t}var _$window=$(window),_connectedState=_getConnectedState(),_setting={},_JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},o=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},i=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(n){if(null==n)return"null";if("number"==typeof n)return isFinite(n)?n.toString():"null";if("boolean"==typeof n)return n.toString();if("object"==typeof n){if("function"==typeof n.toJSON)return r(n.toJSON());if(t(n)){for(var s="[",a=0;a<n.length;a++)s+=(a?", ":"")+r(n[a]);return s+"]"}if("[object Object]"===e.call(n)){var p=[];for(var l in n)n.hasOwnProperty(l)&&p.push(r(l)+" : "+r(n[l]));return"{"+p.join(", ")+"}"}}return'"'+n.toString().replace(i,o)+'"'}}()};$(function(){function _hasScrollbar(e){var t=$(e).first(),n=t.add(t.parents()),o=[],i=[],r={horizontal:!1,vertical:!1};return n.each(function(e,t){var n=$(t),r={x:n.css("overflow-x"),y:n.css("overflow-y")};t.scrollWidth>t.clientWidth&&"hidden"!=r.x||"scroll"==r.x?o.push(!0):o.push(!1),t.scrollHeight>t.clientHeight&&"hidden"!=r.y||"scroll"==r.y?i.push(!0):i.push(!1)}),$.inArray(!0,o)>-1&&(r.horizontal=!0),$.inArray(!0,i)>-1&&(r.vertical=!0),r}function _getScrollbarWidth(){var e={visibility:"hidden",overflowX:"scroll",overflowY:"scroll",position:"absolute",top:"-100px",left:"-100px",zIndex:"-1",width:"100px",height:"100px"},t=$("body"),n=t.children("#responsive_scrollbar"),o=n.length?n.removeAttr("style").css(e)[0].offsetWidth-n[0].clientWidth:0;return n.length||(t.append('<div id="responsive_scrollbar">&nbsp;</div>'),_getScrollbarWidth()),o}function _getDefaultObject(){var e=_hasScrollbar(_$target[0]),t=_getScrollbarWidth(),n=e.vertical?_$window.width()+t:_$window.width(),o=e.horizontal?_$window.height()+t:_$window.height(),i={isRun:!1,range:{},rangeProperty:[],exit:[],lowIE:{is:"ie7"==_connectedState.browser||"ie8"==_connectedState.browser},nowState:[],prevState:[],scrollbarWidth:t,orientation:n==o?"square":n>o?"landscape":"portrait",screenWidth:n,screenHeight:o,loadedScreenWidth:n,loadedScreenHeight:o,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:e.vertical,hasHorizontalScrollbar:e.horizontal,isResize:!1,isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1};return _freeObject(i)}function _setState(e){var t=!1,n=[],o=[];e=_removeDuplicate(e);for(var i=0;i<e.length;i++)-1==$.inArray(e[i],_setting.nowState)?n.push(e[i]):o.push(e[i]);return(n.length||o.length!=_setting.nowState.length)&&(t=!0),t&&(_$target.removeClass(_setting.nowState.join(" ")),_$target.addClass(e.join(" ")),_setting.prevState=_setting.nowState,_setting.nowState=e,console.log("현재상태 : "+e.join(", "))),_callEvent((e.join("All, ")+"All").split(", ")),t&&_callEvent(n),t}function _callEvent(e){var t={setting:_freeObject(_setting)};e=_removeDuplicate(e),$.responsive.setting=t.setting;for(var n=0;n<e.length;n++)t.state=e[n],_$window.triggerHandler($.Event("responsive",t)),_$window.triggerHandler($.Event("responsive:"+e[n],t));return e}function _setScreenInfo(){var e=_hasScrollbar(_$target[0]);return _setting.hasVerticalScrollbar=e.vertical,_setting.hasHorizontalScrollbar=e.horizontal,_setting.isResize=!1,_setting.isScreenWidthChange=!1,_setting.isScreenHeightChange=!1,_setting.isScreenWidthAndHeightChange=!1,_setting.isScreenChange=!1,_setting.scrollbarWidth=_getScrollbarWidth(),_setting.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),_setting.screenWidth=_$window.width(),_setting.screenHeight=_$window.height(),_setting.hasVerticalScrollbar&&(_setting.screenWidth+=_setting.scrollbarWidth),_setting.hasHorizontalScrollbar&&(_setting.screenHeight+=_setting.scrollbarWidth),_$target.removeClass(_setting.orientation),_setting.screenWidth==_setting.screenHeight?_setting.orientation="square":_setting.screenWidth>_setting.screenHeight?_setting.orientation="landscape":_setting.orientation="portrait",_$target.addClass(_setting.orientation),_setting}var _$target=$("body");$.responsive=function(option){_setting.nowState&&_setting.nowState.length&&_$target.removeClass(_setting.nowState.join(" ")),_setting=_getDefaultObject(),_setting.isRun=!0,_$target.addClass(_setting.browser+" "+_setting.platform),"object"!=_typeOf(option)&&(option={}),"object"!=_typeOf(option.lowIE)&&(option.lowIE={}),option.lowIEPropertyType=_typeOf(option.lowIE.property),"array"==option.lowIEPropertyType||"string"==option.lowIEPropertyType?option.lowIE.property=_removeDuplicate(option.lowIE.property):option.lowIE.property=[],option.interval=250,"object"!=_typeOf(option.range)&&(option.range={}),option.rangeCode="option.enter = [];\n_setting.exit = [];\n\n",option.rangeCode+="if(!_setting.lowIE.run && _setting.lowIE.is) {\n	option.enter = _setting.lowIE.property;\n}else{\n",option.rangeFilter=[],option.rangeProperty=[];for(option.i in option.range)"square"!=option.i&&"portrait"!=option.i&&"landscape"!=option.i&&"All"!=option.i.substr(-3)&&"Resized"!=option.i.substr(-7)&&"none"!=option.i&&"all"!=option.i.substr(-3)&&"mobile"!=option.i&&"pc"!=option.i&&"scrollbar"!=option.i&&"ie7"!=option.i&&"ie8"!=option.i&&"ie9"!=option.i&&"ie10"!=option.i&&"ie11"!=option.i&&"edge"!=option.i&&"opera"!=option.i&&"chrome"!=option.i&&"firefox"!=option.i&&"safari"!=option.i&&"unknown"!=option.i?(option.hasRangeHorizontal="object"==_typeOf(option.range[option.i].horizontal),option.hasRangeVertical="object"==_typeOf(option.range[option.i].vertical),(option.hasRangeHorizontal||option.hasRangeVertical)&&(option.hasRangeHorizontal&&"number"==_typeOf(option.range[option.i].horizontal.from)&&"number"==_typeOf(option.range[option.i].horizontal.to)?option.rangeFilter.push(!0):option.rangeFilter.push(!1),option.hasRangeVertical&&"number"==_typeOf(option.range[option.i].vertical.from)&&"number"==_typeOf(option.range[option.i].vertical.to)?option.rangeFilter.push(!0):option.rangeFilter.push(!1),option.rangeFilter[0]||option.rangeFilter[1]?(option.rangeCode+="	if(",option.rangeFilter[0]&&(option.rangeCode+="_setting.screenWidth <= "+option.range[option.i].horizontal.from+" && _setting.screenWidth >= "+option.range[option.i].horizontal.to),option.rangeFilter[1]&&(option.hasRangeHorizontal&&(option.rangeCode+=" && "),option.rangeCode+="_setting.screenHeight <= "+option.range[option.i].vertical.from+" && _setting.screenHeight >= "+option.range[option.i].vertical.to),option.rangeCode+=") {\n",option.rangeCode+='		option.enter.push("'+option.i+'");\n',option.rangeCode+="	}else{\n",option.rangeCode+='		_setting.exit.push("'+option.i+'");\n',option.rangeCode+="	}\n\n",option.rangeProperty.push(option.i)):delete option.range[option.i],option.rangeFilter=[])):delete option.range[option.i];for(option.rangeCode=option.rangeCode.replace(/\n$/,""),option.rangeCode+="}",_setting.range=option.range,_setting.rangeProperty=option.rangeProperty,option.i=0,option.lowIEFilter=[];option.i<option.lowIE.property.length;option.i++)$.inArray(option.lowIE.property[option.i],option.rangeProperty)>-1&&option.lowIEFilter.push(option.lowIE.property[option.i]);return option.lowIEFilter.length?option.lowIE.run=!1:option.lowIE.run=!0,_setting.lowIE.run=option.lowIE.run,option.lowIE.property=option.lowIEFilter,_setting.lowIE.property=option.lowIE.property,_$window.off("resize.responsive").on("resize.responsive",function(event){_setScreenInfo(),_setting.isResize=!0,_setting.screenWidth!=option.screenWidth&&(option.screenWidth=_setting.screenWidth,_setting.isScreenWidthChange=!0),_setting.screenHeight!=option.screenHeight&&(option.screenHeight=_setting.screenHeight,_setting.isScreenHeightChange=!0),_setting.isScreenWidthChange&&_setting.isScreenHeightChange&&(_setting.isScreenWidthAndHeightChange=!0),(_setting.isScreenWidthChange||_setting.isScreenHeightChange)&&(_setting.isScreenChange=!0),event.isTrigger&&(_setting.isResize=!1,_setting.isScreenWidthChange=!1,_setting.isScreenHeightChange=!1,_setting.isScreenWidthAndHeightChange=!1,_setting.isScreenChange=!1),(_setting.isScreenChange||event.isTrigger)&&(_callEvent("all"),eval(option.rangeCode),_setState(option.enter.length?option.enter:"none"),option.timer&&(clearTimeout(option.timer),option.timer=0),option.timer=setTimeout(function(){_setScreenInfo(),_callEvent("allResized"),_callEvent(option.enter.length?(option.enter.join("AllResized, ")+"AllResized").split(", "):"noneAllResized")},option.interval))}).triggerHandler("resize.responsive"),_$target},$.responsive.destroy=function(){var e=!1;return _setting.isRun&&(_$window.off("resize.responsive"),_$target.removeClass("scrollbar "+_setting.browser+" "+_setting.platform+" "+_setting.nowState.join(" ")+" "+_setting.orientation),_setting.isRun=!1,$("body > #responsive_scrollbar").remove(),delete this.setting,e=!0),e}})}(jQuery)}catch(e){console.error(e)}