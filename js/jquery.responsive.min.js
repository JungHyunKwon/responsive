"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{this.console=this.console||undefined;if(!console){console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var i=0;i<console.method.length;i++){if(!console[console.method[i]]){console[console.method[i]]=function(comment){this.comment.push(comment)}}}}this.JSON=this.JSON||{parse:function(sJSON){var result;try{result=eval("("+sJSON+")")}catch(e){result={}}return result},stringify:(function(){var toString=Object.prototype.toString,isArray=Array.isArray||function(a){return toString.call(a)==="[object Array]"},escMap={"\"":"\\\"","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escFunc=function(m){return escMap[m]||"\\u"+(m.charCodeAt(0)+0x10000).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g;return function stringify(value){if(value==null){return"null"}else if(typeof value==="number"){return isFinite(value)?value.toString():"null"}else if(typeof value==="boolean"){return value.toString()}else if(typeof value==="object"){if(typeof value.toJSON==="function"){return stringify(value.toJSON())}else if(isArray(value)){var res="[";for(var i=0;i<value.length;i++){res+=(i?", ":"")+stringify(value[i])}return res+']'}else if(toString.call(value)==="[object Object]"){var tmp=[];for(var k in value){if(value.hasOwnProperty(k)){tmp.push(stringify(k)+" : "+stringify(value[k]))}}return"{"+tmp.join(", ")+"}"}}return"\""+value.toString().replace(escRE,escFunc)+"\""}})()};this.jQuery=this.jQuery||undefined;if(jQuery){(function($){var _$window=$(window),_connectedState=_getConnectedState(),_setting={};function _typeof(variable){var result;if(variable===undefined){result="undefined"}else if(typeof variable==="number"&&isNaN(variable)){result="NaN"}else{result=Object.prototype.toString.call(variable).toLowerCase().replace("[object ","").replace("]","")}return result}function _freeObject(object){var result={};if(_typeof(object)=="object"){result=JSON.parse(JSON.stringify(object))}return result}function _getConnectedState(){var userAgent=navigator.userAgent.toLowerCase(),platform=navigator.platform.toLowerCase(),platformCase=["win16","win32","win64","mac","linux"],result={browser:"",platform:""};if(userAgent.indexOf("msie 7.0")>-1){result.browser="ie7"}else if(userAgent.indexOf("msie 8.0")>-1){result.browser="ie8"}else if(userAgent.indexOf("msie 9.0")>-1){result.browser="ie9"}else if(userAgent.indexOf("msie 10.0")>-1){result.browser="ie10"}else if(userAgent.indexOf("trident/7.0")>-1){result.browser="ie11"}else if(userAgent.indexOf("edge")>-1){result.browser="edge"}else if(userAgent.indexOf("opr")>-1){result.browser="opera"}else if(userAgent.indexOf("chrome")>-1){result.browser="chrome"}else if(userAgent.indexOf("firefox")>-1){result.browser="firefox"}else if(userAgent.indexOf("safari")>-1){result.browser="safari"}else{result.browser="unknown"}if($.inArray(platform,platformCase)>-1){result.platform="pc"}else{result.platform="mobile"}return result}function _removeDuplicate(name){var result=[],nameType=_typeof(name);if(nameType=="string"||nameType=="number"||nameType=="boolean"){name=$.makeArray(name)}else if(nameType!="array"){name=[]}for(var i=0;i<name.length;i++){if($.inArray(name[i],result)==-1){result.push(name[i])}}return result}$(function(){var _$target=$("body"),_initialSetting=_getDefaultObject();function _hasScrollbar(object){var $this=$(object).first(),$target=$this.add($this.parents()),horizontal=[],vertical=[],result={horizontal:false,vertical:false};$target.each(function(index,element){var $this=$(element),overflow={x:$this.css("overflow-x"),y:$this.css("overflow-y")};if((element.scrollWidth>element.clientWidth&&overflow.x!="hidden")||overflow.x=="scroll"){horizontal.push(true)}else{horizontal.push(false)}if((element.scrollHeight>element.clientHeight&&overflow.y!="hidden")||overflow.y=="scroll"){vertical.push(true)}else{vertical.push(false)}});if($.inArray(true,horizontal)>-1){result.horizontal=true}if($.inArray(true,vertical)>-1){result.vertical=true}return result}function _getScrollbarWidth(){var style={visibility:"hidden",overflowX:"scroll",overflowY:"scroll",position:"absolute",top:"-100px",left:"-100px",zIndex:"-1",width:"100px",height:"100px"},$body=$("body"),$scrollbar=$body.children("#responsive_scrollbar"),result=($scrollbar.length)?$scrollbar.removeAttr("style").css(style)[0].offsetWidth-$scrollbar[0].clientWidth:0;if(!$scrollbar.length){$body.append("<div id=\"responsive_scrollbar\">&nbsp;</div>");result=_getScrollbarWidth()}return result}function _getDefaultObject(){var hasScrollbar=_hasScrollbar(_$target[0]),scrollbarWidth=_getScrollbarWidth(),screenWidth=(hasScrollbar.vertical)?_$window.width()+scrollbarWidth:_$window.width(),screenHeight=(hasScrollbar.horizontal)?_$window.height()+scrollbarWidth:_$window.height(),result={isRun:false,range:{},rangeProperty:[],exit:[],lowIE:{is:_connectedState.browser=="ie7"||_connectedState.browser=="ie8",property:[],run:true},nowState:[],prevState:[],scrollbarWidth:scrollbarWidth,orientation:(screenWidth==screenHeight)?"square":(screenWidth>screenHeight)?"landscape":"portrait",screenWidth:screenWidth,screenHeight:screenHeight,loadedScreenWidth:screenWidth,loadedScreenHeight:screenHeight,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:hasScrollbar.vertical,hasHorizontalScrollbar:hasScrollbar.horizontal,isResize:false,isScreenChange:false,isScreenWidthChange:false,isScreenHeightChange:false,isScreenWidthAndHeightChange:false,inheritClass:{property:[],is:false}};return _freeObject(result)}function _setState(state){var result=false,setState=[],nowState=[],inheritClass=[],i;state=_removeDuplicate(state);for(i=0;i<state.length;i++){if($.inArray(state[i],_setting.nowState)==-1){setState.push(state[i])}else{nowState.push(state[i])}}if(setState.length||nowState.length!=_setting.nowState.length){result=true}if(result){_$target.removeClass(_setting.nowState.join(" "));_$target.addClass(state.join(" "));_setting.prevState=_setting.nowState;_setting.nowState=state;if(_setting.inheritClass.is){_setting.inheritClass.property=[];for(i=0;i<$.inArray(_setting.nowState[_setting.nowState.length-1],_setting.rangeProperty);i++){if($.inArray(_setting.rangeProperty[i],_setting.nowState)==-1){if(!_$target.hasClass(_setting.rangeProperty[i])){inheritClass.push(_setting.rangeProperty[i])}_setting.inheritClass.property.push(_setting.rangeProperty[i])}}}_$target.addClass(inheritClass.join(" "));console.log("현재상태 : "+state.join(", "))}_callEvent((state.join("All, ")+"All").split(", "));if(result){_callEvent(state)}return result}function _callEvent(state){var event={setting:_freeObject(_setting)};state=_removeDuplicate(state);$.responsive.setting=event.setting;for(var i=0;i<state.length;i++){event.state=state[i];_$window.triggerHandler($.Event("responsive",event));_$window.triggerHandler($.Event("responsive:"+state[i],event))}return state}function _setScreenInfo(){var hasScrollbar=_hasScrollbar(_$target[0]);_setting.hasVerticalScrollbar=hasScrollbar.vertical;_setting.hasHorizontalScrollbar=hasScrollbar.horizontal;_setting.isResize=false;_setting.isScreenWidthChange=false;_setting.isScreenHeightChange=false;_setting.isScreenWidthAndHeightChange=false;_setting.isScreenChange=false;_setting.scrollbarWidth=_getScrollbarWidth();if(_setting.scrollbarWidth){_$target.addClass("scrollbar")}else{_$target.removeClass("scrollbar")}_setting.screenWidth=_$window.width();_setting.screenHeight=_$window.height();if(_setting.hasVerticalScrollbar){_setting.screenWidth+=_setting.scrollbarWidth}if(_setting.hasHorizontalScrollbar){_setting.screenHeight+=_setting.scrollbarWidth}_$target.removeClass(_setting.orientation);if(_setting.screenWidth==_setting.screenHeight){_setting.orientation="square"}else if(_setting.screenWidth>_setting.screenHeight){_setting.orientation="landscape"}else{_setting.orientation="portrait"}_$target.addClass(_setting.orientation);return _setting}$.responsive=function(option){if(_setting.nowState&&_setting.nowState.length){_$target.removeClass(_setting.nowState.join(" "))}if(_setting.inheritClass&&_setting.inheritClass.property&&_setting.inheritClass.property.length){_$target.removeClass(_setting.inheritClass.property.join(" "))}_setting=_getDefaultObject();_setting.isRun=true;_$target.addClass(_setting.browser+" "+_setting.platform);if(_typeof(option)!="object"){option={}}if(_typeof(option.lowIE)!="object"){option.lowIE={}}option.lowIEPropertyType=_typeof(option.lowIE.property);if(option.lowIEPropertyType=="array"||option.lowIEPropertyType=="string"){option.lowIE.property=_removeDuplicate(option.lowIE.property)}else{option.lowIE.property=[]}if(_typeof(option.inheritClass)!="boolean"){option.inheritClass=false}_setting.inheritClass.is=option.inheritClass;option.interval=250;if(_typeof(option.range)!="object"){option.range={}}option.rangeCode="option.enter = [];\n_setting.exit = [];\n\n";option.rangeCode+="if(!_setting.lowIE.run && _setting.lowIE.is) {\n\toption.enter = _setting.lowIE.property;\n}else{\n";option.rangeFilter=[];option.rangeProperty=[];for(option.i in option.range){if(option.i!="square"&&option.i!="portrait"&&option.i!="landscape"&&option.i.substr(-3)!="All"&&option.i.substr(-7)!="Resized"&&option.i!="none"&&option.i.substr(-3)!="all"&&option.i!="mobile"&&option.i!="pc"&&option.i!="scrollbar"&&option.i!="ie7"&&option.i!="ie8"&&option.i!="ie9"&&option.i!="ie10"&&option.i!="ie11"&&option.i!="edge"&&option.i!="opera"&&option.i!="chrome"&&option.i!="firefox"&&option.i!="safari"&&option.i!="unknown"){option.hasRangeHorizontal=(_typeof(option.range[option.i].horizontal)=="object");option.hasRangeVertical=(_typeof(option.range[option.i].vertical)=="object");if(option.hasRangeHorizontal||option.hasRangeVertical){if(option.hasRangeHorizontal&&_typeof(option.range[option.i].horizontal.from)=="number"&&_typeof(option.range[option.i].horizontal.to)=="number"){option.rangeFilter.push(true)}else{option.rangeFilter.push(false)}if(option.hasRangeVertical&&_typeof(option.range[option.i].vertical.from)=="number"&&_typeof(option.range[option.i].vertical.to)=="number"){option.rangeFilter.push(true)}else{option.rangeFilter.push(false)}if(option.rangeFilter[0]||option.rangeFilter[1]){option.rangeCode+="\tif(";if(option.rangeFilter[0]){option.rangeCode+="_setting.screenWidth <= "+option.range[option.i].horizontal.from+" && _setting.screenWidth >= "+option.range[option.i].horizontal.to}if(option.rangeFilter[1]){if(option.hasRangeHorizontal){option.rangeCode+=" && "}option.rangeCode+="_setting.screenHeight <= "+option.range[option.i].vertical.from+" && _setting.screenHeight >= "+option.range[option.i].vertical.to}option.rangeCode+=") {\n";option.rangeCode+="\t\toption.enter.push(\""+option.i+"\");\n";option.rangeCode+="\t}else{\n";option.rangeCode+="\t\t_setting.exit.push(\""+option.i+"\");\n";option.rangeCode+="\t}\n\n";option.rangeProperty.push(option.i)}else{delete option.range[option.i]}option.rangeFilter=[]}}else{delete option.range[option.i]}}option.rangeCode=option.rangeCode.replace(/\n$/,"");option.rangeCode+="}";_setting.range=option.range;_setting.rangeProperty=option.rangeProperty;option.i=0;option.lowIEFilter=[];for(;option.i<option.lowIE.property.length;option.i++){if($.inArray(option.lowIE.property[option.i],option.rangeProperty)>-1){option.lowIEFilter.push(option.lowIE.property[option.i])}}if(option.lowIEFilter.length){option.lowIE.run=false}else{option.lowIE.run=true}_setting.lowIE.run=option.lowIE.run;option.lowIE.property=option.lowIEFilter;_setting.lowIE.property=option.lowIE.property;_$window.off("resize.responsive").on("resize.responsive",function(event){_setScreenInfo();_setting.isResize=true;if(_setting.screenWidth!=option.screenWidth){option.screenWidth=_setting.screenWidth;_setting.isScreenWidthChange=true}if(_setting.screenHeight!=option.screenHeight){option.screenHeight=_setting.screenHeight;_setting.isScreenHeightChange=true}if(_setting.isScreenWidthChange&&_setting.isScreenHeightChange){_setting.isScreenWidthAndHeightChange=true}if(_setting.isScreenWidthChange||_setting.isScreenHeightChange){_setting.isScreenChange=true}if(event.isTrigger){_setting.isResize=false;_setting.isScreenWidthChange=false;_setting.isScreenHeightChange=false;_setting.isScreenWidthAndHeightChange=false;_setting.isScreenChange=false}if(_setting.isScreenChange||event.isTrigger){_callEvent("all");eval(option.rangeCode);if(option.enter.length){_setState(option.enter)}else{_setState("none")}if(option.timer){clearTimeout(option.timer);option.timer=0}option.timer=setTimeout(function(){_setScreenInfo();_callEvent("allResized");if(option.enter.length){_callEvent((option.enter.join("AllResized, ")+"AllResized").split(", "))}else{_callEvent("noneAllResized")}},option.interval)}}).triggerHandler("resize.responsive");return _$target};$.responsive.destroy=function(){var result=false;if(_setting.isRun){_$window.off("resize.responsive");_$target.removeClass("scrollbar "+_setting.browser+" "+_setting.platform+" "+_setting.nowState.join(" ")+" "+_setting.orientation+" "+_setting.inheritClass.property.join(" "));$("body > #responsive_scrollbar").remove();this.setting=_freeObject(_initialSetting);result=true;_setting.isRun=false}return result};$.responsive.setting=_freeObject(_initialSetting)})})(jQuery)}else{throw"제이쿼리가 없습니다.";}}catch(e){console.error(e)}