"use strict";

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 */
try{if(this.jQuery=this.jQuery||void 0,this.JSON||(this.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var e=Object.prototype.toString,r=Array.isArray||function(r){return"[object Array]"===e.call(r)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},i=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function t(n){if(null==n)return"null";if("number"==typeof n)return isFinite(n)?n.toString():"null";if("boolean"==typeof n)return n.toString();if("object"==typeof n){if("function"==typeof n.toJSON)return t(n.toJSON());if(r(n)){for(var s="[",a=0;a<n.length;a++)s+=(a?", ":"")+t(n[a]);return s+"]"}if("[object Object]"===e.call(n)){var l=[];for(var _ in n)n.hasOwnProperty(_)&&l.push(t(_)+": "+t(n[_]));return"{"+l.join(", ")+"}"}}return'"'+n.toString().replace(o,i)+'"'}}()}),!jQuery)throw"제이쿼리가 없습니다.";!function($){function _freeObject(e){var r={};return"object"!=typeof e||e.length||(r=JSON.parse(JSON.stringify(e))),r}function _getConnectedState(){var e=navigator.userAgent.toLowerCase(),r=navigator.platform.toLowerCase(),n=["win16","win32","win64","mac","linux"],i={browser:"",platform:""};return e.indexOf("msie 7.0")>-1?i.browser="ie7":e.indexOf("msie 8.0")>-1?i.browser="ie8":e.indexOf("msie 9.0")>-1?i.browser="ie9":e.indexOf("msie 10.0")>-1?i.browser="ie10":e.indexOf("trident/7.0")>-1?i.browser="ie11":e.indexOf("edge")>-1?i.browser="edge":e.indexOf("opr")>-1?i.browser="opera":e.indexOf("chrome")>-1?i.browser="chrome":e.indexOf("firefox")>-1?i.browser="firefox":e.indexOf("safari")>-1?i.browser="safari":i.browser="unknown",$.inArray(r,n)>-1?i.platform="pc":i.platform="mobile",i}function _removeDuplicate(e){var r=[];e=e.length?$.makeArray(e):[];for(var n in e)-1==$.inArray(e[n],r)&&r.push(e[n]);return r}var _$window=$(window),_isWindowLoad=!1,_windowTempWidth=0,_windowTempHeight=0,_connectedState=_getConnectedState(),_range={},_rangeCode="",_rangeProperty=[],_timeout=0,_interval=0;$(function(){function _hasScrollbar(e){var r=$(e),n={x:r.css("overflow-x"),y:r.css("overflow-y")},i={horizontal:!1,vertical:!1};return(e.scrollWidth>e.clientWidth&&"hidden"!=n.x||"scroll"==n.x)&&(i.horizontal=!0),(e.scrollHeight>e.clientHeight&&"hidden"!=n.y||"scroll"==n.y)&&(i.vertical=!0),i}function _getScrollbarWidth(){var e=0,r=$("body"),n=r.children("#responsive_scrollbar");return n.length||(r.append('<div id="responsive_scrollbar" style="visibility:hidden; overflow:scroll; position:absolute; top:-100px; left:-100px; z-index:-1; width:100px; height:100px;">&nbsp;</div>'),n=r.children("#responsive_scrollbar")),e=n[0].offsetWidth-n[0].clientWidth}function _getDefaultObject(){var e=_hasScrollbar(_$target[0]),r=_getScrollbarWidth(),n=e.vertical?_$window.width()+r:_$window.width(),i=e.horizontal?_$window.height()+r:_$window.height(),o={isRun:!1,enter:[],exit:[],nowState:[],prevState:[],lowIERange:[],scrollbarWidth:r,windowWidth:n,windowHeight:i,windowLoadedWidth:n,windowLoadedHeight:i,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:e.vertical,hasHorizontalScrollbar:e.horizontal,isLowIE:"ie7"==_connectedState.browser||"ie8"==_connectedState.browser,lowIERun:!1,isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1};return $("#responsive_scrollbar").remove(),_freeObject(o)}function _setState(e){var r=!1,n=[],i=[];e=_removeDuplicate(e);for(var o in e)-1==$.inArray(e[o],_responsive.nowState)?n.push(e[o]):i.push(e[o]);return r=n.length?!0:!1,r&&(_$target.removeClass(_responsive.nowState.join(" ")),_$target.addClass(e.join(" ")),_responsive.prevState=_responsive.nowState,_responsive.nowState=e,_callEvent(n),console.log("현재상태 : "+e.join(", "))),r}function _callEvent(e){var r={responsive:_freeObject(_responsive)};e=_removeDuplicate(e),$.responsive.setting=r.responsive;for(var n in e)r.state=e[n],_$window.triggerHandler($.Event("responsive",r)),_$window.triggerHandler($.Event("responsive:"+e[n],r));return e.length>1&&(r.state=e,_$window.triggerHandler($.Event("responsive:"+e.join(":"),r))),e}function _setScreenInfo(){var e=_hasScrollbar(_$target[0]);return _responsive.hasVerticalScrollbar=e.vertical,_responsive.hasHorizontalScrollbar=e.horizontal,_responsive.scrollbarWidth=_getScrollbarWidth(),_responsive.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),_responsive.windowWidth=_$window.width(),_responsive.windowHeight=_$window.height(),_responsive.hasVerticalScrollbar&&(_responsive.windowWidth+=_responsive.scrollbarWidth),_responsive.hasHorizontalScrollbar&&(_responsive.windowHeight+=_responsive.scrollbarWidth),_responsive}var _$target=$("body"),_responsive=_getDefaultObject();$.responsive=function(option){if(_responsive.isRun||!_isWindowLoad)throw"이미 실행 중 이거나 윈도우가 로드되지 않았습니다.";_responsive.isRun=!0,option=$.extend({range:{wide:{from:9999,to:1201},web:{from:1200,to:801},tablet:{from:800,to:641},phone:{from:640,to:0}},lowIERun:!1,lowIERange:["web"],interval:250},option),_$target.addClass(_responsive.browser+" "+_responsive.platform),_responsive.scrollbarWidth?_$target.addClass("scrollbar"):_$target.removeClass("scrollbar"),"boolean"==typeof option.lowIERun?_responsive.lowIERun=option.lowIERun:_responsive.lowIERun=!1,_responsive.lowIERange=_removeDuplicate(option.lowIERange),_responsive.lowIERange.length||(_responsive.lowIERange=["web"]),_interval="number"==typeof option.interval?option.interval:0,_range=option.range,_rangeCode="_responsive.enter = [];\n_responsive.exit = [];\n\n",_rangeCode+="if(!_responsive.lowIERun && _responsive.isLowIE) {\n	_responsive.enter = _responsive.lowIERange;\n}else{\n";for(var i in _range)i=i.toLowerCase(),"resized"!=i.substr(-7)&&"none"!=i.substr(-4)&&"all"!=i.substr(-3)&&"mobile"!=i&&"pc"!=i&&"scrollbar"!=i&&"ie7"!=i&&"ie8"!=i&&"ie9"!=i&&"ie10"!=i&&"ie11"!=i&&"edge"!=i&&"whale"!=i&&"samsung"!=i&&"opera"!=i&&"chrome"!=i&&"firefox"!=i&&"safari"!=i&&"unknown"!=i&&(_rangeProperty.push(i),_range[i].from&&"number"==typeof _range[i].from||(_range[i].from=9999),_range[i].to&&"number"==typeof _range[i].to||(_range[i].to=0),_rangeCode+='	if(_responsive.windowWidth <= _range["'+i+'"].from && _responsive.windowWidth >= _range["'+i+'"].to) {\n',_rangeCode+='		_responsive.enter.push("'+i+'");\n',_rangeCode+="	}else{\n",_rangeCode+='		_responsive.exit.push("'+i+'");\n',_rangeCode+="	}\n\n");return _rangeCode+="}",_$window.on("resize.responsive",function(event){_responsive.isScreenChange=!1,_responsive.isScreenWidthChange=!1,_responsive.isScreenHeightChange=!1,_responsive.isScreenWidthAndHeightChange=!1,_setScreenInfo(),_responsive.windowWidth!=_windowTempWidth&&(_windowTempWidth=_responsive.windowWidth,_responsive.isScreenWidthChange=!0),_responsive.windowHeight!=_windowTempHeight&&(_windowTempHeight=_responsive.windowHeight,_responsive.isScreenHeightChange=!0),_responsive.isScreenWidthChange&&_responsive.isScreenHeightChange&&(_responsive.isScreenWidthAndHeightChange=!0),(_responsive.isScreenWidthChange||_responsive.isScreenHeightChange)&&(_responsive.isScreenChange=!0),_responsive.isScreenWidthChange&&(_responsive.isResize=!0,_callEvent("all"),eval(_rangeCode),_responsive.enter.length?(_callEvent((_responsive.enter.join("All, ")+"All").split(", ")),_setState(_responsive.enter)):(_callEvent("noneAll"),_setState("none")),_timeout&&(clearTimeout(_timeout),_timeout=0),_timeout=setTimeout(function(){_responsive.isResize=!1,_setScreenInfo(),_callEvent("allResized"),_callEvent(_responsive.enter.length?(_responsive.enter.join("AllResized, ")+"AllResized").split(", "):"noneAllResized")},_interval))}).triggerHandler("resize.responsive"),$.responsive.setting=_freeObject(_responsive),this},$.responsive.destroy=function(){var e=!1;return _responsive.isRun&&(_$window.off("resize.responsive"),_$target.removeClass("scrollbar "+_responsive.browser+" "+_responsive.platform+" "+_responsive.nowState.join(" ")),_responsive=_getDefaultObject(),_windowTempWidth=0,_windowTempHeight=0,this.setting=void 0,e=!0),e},$.responsive.setting=_freeObject(_responsive)}),_$window.on("load.responsive",function(e){_isWindowLoad=!0})}(jQuery)}catch(e){console.error(e)}