'use strict';

/**
 * @name responsive
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0
 * @param {object} option {range : {# : {from : n, to : n}}, lowIE : {property : ['#']}, inheritClass : boolean}
 * @return {object}
 */
try{window.getTypeof=function(value){var result='none';if(arguments.length){result=Object.prototype.toString.call(value).toLowerCase().replace('[object ','').replace(']','');if(value===undefined){result='undefined'}else if(result==='number'&&isNaN(value)){result='NaN'}else if(result==='number'&&!isFinite(value)){result='Infinity'}else if(result.substr(-8)==='document'){result='document'}else if(result.substr(-7)==='element'){result='element'}else if(typeof window.jQuery==='function'&&value instanceof window.jQuery){var iCount=0;for(var i in value){var iType=getTypeof(value[i]);if((iType==='window'||iType==='document'||iType==='element')&&!isNaN(Number(i))){iCount++}}if(value.length&&value.length===iCount){result='jQueryElement'}else{result='jQueryObject'}}else if(result==='date'&&isNaN(new Date(value))){result='Invalid Date'}else if(result==='function'&&/^class\s/.test(Function.prototype.toString.call(value))){result='class'}}return result};window.consoleType=getTypeof(window.console);if(window.consoleType!=='object'&&window.consoleType!=='console'){window.console={method:['assert','clear','count','debug','dir','dirxml','error','exception','group','groupCollapsed','groupEnd','info','log','markTimeline','profile','profileEnd','table','time','timeEnd','timeStamp','trace','warn'],comment:[]};for(var i=0,consoleMethodCount=console.method.length;i<consoleMethodCount;i++){if(getTypeof(window.console[window.console.method[i]])!=='function'){window.console[window.console.method[i]]=function(comment){this.comment.push(comment)}}}}window.JSONType=getTypeof(window.JSON);if(window.JSONType!=='object'&&window.JSONType!=='json'){window.JSON={};if(getTypeof(window.JSON.parse)!=='function'){window.JSON.parse=function(sJSON){var result;try{result=eval('('+sJSON+')')}catch(e){result=sJSON}return result}}if(getTypeof(window.JSON.stringify)!=='function'){window.JSON.stringify=(function(){var toString=Object.prototype.toString,isArray=Array.isArray||function(a){return toString.call(a)==='[object Array]'},escMap={'"':'\\"','\\':'\\\\','\b':'\\b','\f':'\\f','\n':'\\n','\r':'\\r','\t':'\\t'};escFunc=function(m){return escMap[m]||'\\u'+(m.charCodeAt(0)+0x10000).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g;return function stringify(value){var result;if(value===undefined){result='undefined'}else if(value===null){result='null'}else if(typeof value==='number'){result=isFinite(value)?value.toString():'null'}else if(typeof value==='boolean'){result=value.toString()}else if(typeof value==='object'){if(typeof value.toJSON==='function'){result=stringify(value.toJSON())}else if(isArray(value)){result='[';for(var i=0,valueCount=value.length;i<valueCount;i++){result+=((i)?', ':'')+stringify(value[i])}result=result+']'}else if(toString.call(value)==='[object Object]'){result=[];for(var i in value){if(value.hasOwnProperty(i)){result.push(stringify(i)+' : '+stringify(value[i]))}}result='{'+result.join(', ')+'}'}}else{result='"'+value.toString().replace(escRE,escFunc)+'"'}return result}})()}}window.jQueryType=getTypeof(window.jQuery);if(window.jQueryType==='function'){(function($){var _$window=$(window),_connectedState=_getConnectedState(),_setting={};function _freeObject(object){var result={};if(getTypeof(object)==='object'){result=JSON.parse(JSON.stringify(object))}return result}function _getConnectedState(){var USER_AGENT=navigator.userAgent.toLowerCase(),PLATFORM=navigator.platform.toLowerCase(),PLATFORM_CASE=['win16','win32','win64','mac','linux'],result={};if(USER_AGENT.indexOf('msie 7.0')>-1){result.browser='ie7'}else if(USER_AGENT.indexOf('msie 8.0')>-1){result.browser='ie8'}else if(USER_AGENT.indexOf('msie 9.0')>-1){result.browser='ie9'}else if(USER_AGENT.indexOf('msie 10.0')>-1){result.browser='ie10'}else if(USER_AGENT.indexOf('trident/7.0')>-1){result.browser='ie11'}else if(USER_AGENT.indexOf('edge')>-1){result.browser='edge'}else if(USER_AGENT.indexOf('opr')>-1){result.browser='opera'}else if(USER_AGENT.indexOf('chrome')>-1){result.browser='chrome'}else if(USER_AGENT.indexOf('firefox')>-1){result.browser='firefox'}else if(USER_AGENT.indexOf('safari')>-1){result.browser='safari'}else{result.browser='unknown'}if($.inArray(PLATFORM,PLATFORM_CASE)>-1){result.platform='pc'}else{result.platform='mobile'}return result}function _removeDuplicate(name){var result=[];if(getTypeof(name)!=='array'){name=$.makeArray(name)}for(var i=0,nameCount=name.length;i<nameCount;i++){if($.inArray(name[i],result)===-1){result.push(name[i])}}return result}$(function(){var _$target=$('body'),_initialSetting=getDefaultObject();function _hasScrollbar(object){var $this=$(object).first(),$target=$this.add($this.parents()),horizontal=[],vertical=[],result={horizontal:!1,vertical:!1};$target.each(function(index,element){var $this=$(element),overflow={x:$this.css('overflow-x'),y:$this.css('overflow-y')};if((element.scrollWidth>element.clientWidth&&overflow.x!=='hidden')||overflow.x==='scroll'){horizontal.push(!0)}else{horizontal.push(!1)}if((element.scrollHeight>element.clientHeight&&overflow.y!=='hidden')||overflow.y==='scroll'){vertical.push(!0)}else{vertical.push(!1)}});if($.inArray(!0,horizontal)>-1){result.horizontal=!0}if($.inArray(!0,vertical)>-1){result.vertical=!0}return result}function getScrollbarWidth(){var style={visibility:'hidden',overflowX:'scroll',overflowY:'scroll',position:'absolute',top:'-100px',left:'-100px',zIndex:-1,width:'100px',height:'100px'},$body=$('body'),$scrollbar=$body.children('#responsive_scrollbar'),result=($scrollbar.length)?$scrollbar.removeAttr('style').css(style)[0].offsetWidth-$scrollbar[0].clientWidth:0;if(!$scrollbar.length){$body.append('<div id="responsive_scrollbar">&nbsp;</div>');result=getScrollbarWidth()}return result}function getDefaultObject(){var hasScrollbar=_hasScrollbar(_$target[0]),SCROLLBAR_WIDTH=getScrollbarWidth(),SCREEN_WIDTH=(hasScrollbar.vertical)?_$window.width()+SCROLLBAR_WIDTH:_$window.width(),SCREEN_HEIGHT=(hasScrollbar.horizontal)?_$window.height()+SCROLLBAR_WIDTH:_$window.height();return _freeObject({isRun:!1,range:{},rangeProperty:[],exit:[],lowIE:{is:_connectedState.browser==='ie7'||_connectedState.browser==='ie8',property:[],run:!0},nowState:[],prevState:[],scrollbarWidth:SCROLLBAR_WIDTH,orientation:(SCREEN_WIDTH===SCREEN_HEIGHT)?'square':(SCREEN_WIDTH>SCREEN_HEIGHT)?'landscape':'portrait',screenWidth:SCREEN_WIDTH,screenHeight:SCREEN_HEIGHT,loadedScreenWidth:SCREEN_WIDTH,loadedScreenHeight:SCREEN_HEIGHT,browser:_connectedState.browser,platform:_connectedState.platform,hasVerticalScrollbar:hasScrollbar.vertical,hasHorizontalScrollbar:hasScrollbar.horizontal,isResize:!1,triggerType:'',isScreenChange:!1,isScreenWidthChange:!1,isScreenHeightChange:!1,isScreenWidthAndHeightChange:!1,inheritClass:{property:[],is:!1}})}function _setState(state){var result=!1,setState=[],nowState=[],inheritClass=[];state=_removeDuplicate(state);for(var i=0,stateCount=state.length;i<stateCount;i++){if($.inArray(state[i],_setting.nowState)===-1){setState.push(state[i])}else{nowState.push(state[i])}}if(setState.length||nowState.length!==_setting.nowState.length){result=!0}if(result){_$target.removeClass(_setting.nowState.join(' '));if(_setting.inheritClass.is){if(_setting.inheritClass.property.length){_$target.removeClass(_setting.inheritClass.property.join(' '))}for(var i=0,nowStateLastIndex=$.inArray(state[state.length-1],_setting.rangeProperty);i<nowStateLastIndex;i++){if($.inArray(_setting.rangeProperty[i],state)===-1){inheritClass.push(_setting.rangeProperty[i])}}if(inheritClass.length){_$target.addClass(inheritClass.join(' '))}_setting.inheritClass.property=inheritClass}_$target.addClass(state.join(' '));_setting.prevState=_setting.nowState;_setting.nowState=state;console.log('현재상태 : '+state.join(', '))}_callEvent((state.join('All, ')+'All').split(', '));if(result){_callEvent(state)}return result}function _callEvent(state){var event=$.Event('responsive',{_setting:_freeObject(_setting)});state=_removeDuplicate(state);$.responsive.setting=event._setting;for(var i=0,stateCount=state.length;i<stateCount;i++){event.state=state[i];_$window.triggerHandler(event);event.type='responsive:'+state[i];delete event.state;_$window.triggerHandler(event)}return state}function _setScreenInfo(event){var hasScrollbar=_hasScrollbar(_$target[0]);if(event.isTrigger===2){_setting.triggerType='triggerHandler'}else if(event.isTrigger===3){_setting.triggerType='trigger'}else{_setting.triggerType=''}_setting.hasVerticalScrollbar=hasScrollbar.vertical;_setting.hasHorizontalScrollbar=hasScrollbar.horizontal;_setting.isResize=!1;_setting.isScreenWidthChange=!1;_setting.isScreenHeightChange=!1;_setting.isScreenWidthAndHeightChange=!1;_setting.isScreenChange=!1;_setting.scrollbarWidth=getScrollbarWidth();if(_setting.scrollbarWidth){_$target.addClass('scrollbar')}else{_$target.removeClass('scrollbar')}_setting.screenWidth=_$window.width();_setting.screenHeight=_$window.height();if(_setting.hasVerticalScrollbar){_setting.screenWidth+=_setting.scrollbarWidth}if(_setting.hasHorizontalScrollbar){_setting.screenHeight+=_setting.scrollbarWidth}_$target.removeClass(_setting.orientation);if(_setting.screenWidth===_setting.screenHeight){_setting.orientation='square'}else if(_setting.screenWidth>_setting.screenHeight){_setting.orientation='landscape'}else{_setting.orientation='portrait'}_$target.addClass(_setting.orientation);return _setting}$.responsive=function(option){if(_setting.nowState&&_setting.nowState.length){_$target.removeClass(_setting.nowState.join(' '))}if(_setting.inheritClass&&_setting.inheritClass.property&&_setting.inheritClass.property.length){_$target.removeClass(_setting.inheritClass.property.join(' '))}_setting=getDefaultObject();_setting.isRun=!0;_$target.addClass(_setting.browser+' '+_setting.platform);if(getTypeof(option)!=='object'){option={}}if(getTypeof(option.lowIE)!=='object'){option.lowIE={}}option.lowIEPropertyType=getTypeof(option.lowIE.property);if(option.lowIEPropertyType==='array'||option.lowIEPropertyType==='string'){option.lowIE.property=_removeDuplicate(option.lowIE.property)}else{option.lowIE.property=[]}if(getTypeof(option.inheritClass)!=='boolean'){option.inheritClass=!1}_setting.inheritClass.is=option.inheritClass;option.interval=250;if(getTypeof(option.range)!=='object'){option.range={}}option.rangeCode='option.enter = [];\n_setting.exit = [];\n\n';option.rangeCode+='if(!_setting.lowIE.run && _setting.lowIE.is) {\n\toption.enter = _setting.lowIE.property;\n}else{\n';option.rangeFilter=[];option.rangeProperty=[];for(var i in option.range){if(i!=='square'&&i!=='portrait'&&i!=='landscape'&&i.substr(-3)!=='All'&&i.substr(-7)!=='Resized'&&i!=='none'&&i.substr(-3)!=='all'&&i!=='mobile'&&i!=='pc'&&i!=='scrollbar'&&i!=='ie7'&&i!=='ie8'&&i!=='ie9'&&i!=='ie10'&&i!=='ie11'&&i!=='edge'&&i!=='opera'&&i!=='chrome'&&i!=='firefox'&&i!=='safari'&&i!=='unknown'){option.hasRangeHorizontal=(getTypeof(option.range[i].horizontal)==='object');option.hasRangeVertical=(getTypeof(option.range[i].vertical)==='object');if(option.hasRangeHorizontal||option.hasRangeVertical){if(option.hasRangeHorizontal&&getTypeof(option.range[i].horizontal.from)==='number'&&getTypeof(option.range[i].horizontal.to)==='number'){option.rangeFilter.push(!0)}else{option.rangeFilter.push(!1)}if(option.hasRangeVertical&&getTypeof(option.range[i].vertical.from)==='number'&&getTypeof(option.range[i].vertical.to)==='number'){option.rangeFilter.push(!0)}else{option.rangeFilter.push(!1)}if(option.rangeFilter[0]||option.rangeFilter[1]){option.rangeCode+='\tif(';if(option.rangeFilter[0]){option.rangeCode+='_setting.screenWidth <= '+option.range[i].horizontal.from+' && _setting.screenWidth >= '+option.range[i].horizontal.to}if(option.rangeFilter[1]){if(option.hasRangeHorizontal){option.rangeCode+=' && '}option.rangeCode+='_setting.screenHeight <= '+option.range[i].vertical.from+' && _setting.screenHeight >= '+option.range[i].vertical.to}option.rangeCode+=') {\n';option.rangeCode+='\t\toption.enter.push("'+i+'");\n';option.rangeCode+='\t}else{\n';option.rangeCode+='\t\t_setting.exit.push("'+i+'");\n';option.rangeCode+='\t}\n\n';option.rangeProperty.push(i)}else{delete option.range[i]}option.rangeFilter=[]}}else{delete option.range[i]}}option.rangeCode=option.rangeCode.replace(/\n$/,'');option.rangeCode+='}';_setting.range=option.range;_setting.rangeProperty=option.rangeProperty;option.lowIEFilter=[];for(var i=0,lowIEPropertyCount=option.lowIE.property.length;i<lowIEPropertyCount;i++){if($.inArray(option.lowIE.property[i],option.rangeProperty)>-1){option.lowIEFilter.push(option.lowIE.property[i])}}if(option.lowIEFilter.length){option.lowIE.run=!1}else{option.lowIE.run=!0}_setting.lowIE.run=option.lowIE.run;option.lowIE.property=option.lowIEFilter;_setting.lowIE.property=option.lowIE.property;_$window.off('resize.responsive').on('resize.responsive',function(event){_setScreenInfo(event);_setting.isResize=!0;if(_setting.screenWidth!==option.screenWidth){option.screenWidth=_setting.screenWidth;_setting.isScreenWidthChange=!0}if(_setting.screenHeight!==option.screenHeight){option.screenHeight=_setting.screenHeight;_setting.isScreenHeightChange=!0}if(_setting.isScreenWidthChange&&_setting.isScreenHeightChange){_setting.isScreenWidthAndHeightChange=!0}if(_setting.isScreenWidthChange||_setting.isScreenHeightChange){_setting.isScreenChange=!0}if(_setting.triggerType){_setting.isResize=!1;_setting.isScreenWidthChange=!1;_setting.isScreenHeightChange=!1;_setting.isScreenWidthAndHeightChange=!1;_setting.isScreenChange=!1}if(_setting.isScreenChange||_setting.triggerType){_callEvent('all');eval(option.rangeCode);if(option.enter.length){_setState(option.enter)}else{_setState('none')}if(option.timer){clearTimeout(option.timer);option.timer=0}option.timer=setTimeout(function(){_setScreenInfo(event);_callEvent('allResized');if(option.enter.length){_callEvent((option.enter.join('AllResized, ')+'AllResized').split(', '))}else{_callEvent('noneAllResized')}if(_setting.triggerType){_setting.triggerType='';$.responsive.setting=_freeObject(_setting)}},option.interval)}}).triggerHandler('resize.responsive');return _$target};$.responsive.destroy=function(){var result=!1;if(_setting.isRun){_$window.off('resize.responsive');_$target.removeClass('scrollbar '+_setting.browser+' '+_setting.platform+' '+_setting.nowState.join(' ')+' '+_setting.orientation+' '+_setting.inheritClass.property.join(' '));$('body > #responsive_scrollbar').remove();this.setting=_freeObject(_initialSetting);result=!0;_setting.isRun=!1}return result};$.responsive.setting=_freeObject(_initialSetting)})})(jQuery)}else{throw '제이쿼리가 없습니다.'}}catch(e){console.error(e)}